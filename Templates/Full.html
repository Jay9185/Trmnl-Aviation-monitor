<style>
  /* RESET */
  body, h1 { margin: 0; padding: 0; }
  
  .trmnl-screen {
    width: 100%;
    height: 100%;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    display: flex;
    flex-direction: column;
    /* Note: This border creates a "bezel" effect inside the screen */
    border: 16px solid #1a1a1a; 
    box-sizing: border-box;
    background-color: white;
    overflow: hidden;
  }

  .header {
    background-color: black;
    color: white;
    padding: 8px 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 700;
    font-size: 14px;
    letter-spacing: 0.5px;
  }

  .main-body {
    padding: 20px 25px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .callsign-row {
    display: flex;
    align-items: baseline;
    gap: 20px;
    margin-bottom: 8px;
  }

  .callsign {
    font-size: 96px;
    font-weight: 900;
    line-height: 1;
    letter-spacing: -3px;
  }

  .airline {
    font-size: 20px;
    font-weight: 700;
    text-transform: uppercase;
  }

  .aircraft-model {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    font-size: 18px;
  }

  .aircraft-type {
    background-color: #E0E0E0;
    color: black;
    font-weight: 700;
    padding: 4px 10px;
    font-size: 16px;
  }

  .aircraft-desc {
    color: #444;
    font-weight: 500;
  }

  .meta-row {
    display: flex;
    align-items: center;
    font-size: 20px;
    color: #333;
    gap: 15px;
  }

  .meta-item strong {
    color: black;
    font-weight: 700;
  }

  .direction-box {
    background-color: black;
    color: white;
    font-weight: 900;
    padding: 4px 12px;
    font-size: 20px;
  }

  .v-speed {
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  .arrow { font-size: 24px; }

  .footer-grid {
    background-color: #E0E0E0;
    border-top: 4px solid black;
    display: flex;
    height: 110px;
  }

  .data-col {
    flex: 1;
    padding: 15px 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    border-right: 4px solid black;
  }
  
  .data-col.no-border { border-right: none; }

  .data-label {
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 5px;
    color: #444;
  }

  .data-value-group {
    display: flex;
    align-items: baseline;
  }

  .data-number {
    font-size: 48px;
    font-weight: 900;
    line-height: 1;
    letter-spacing: -1px;
  }

  .data-unit {
    font-size: 20px;
    font-weight: 700;
    margin-left: 4px;
  }
</style>

{% assign flight = merge_variables.flights | first %}

<div class="trmnl-screen">

  <div class="header">
    <span class="header-left">PROXIMATE TRAFFIC</span>
    <span class="header-right">{{ merge_variables.aircraft_count }} A/C</span>
  </div>

  <div class="main-body">
    {% if flight %}
      <div class="callsign-row">
        <h1 class="callsign">{{ flight.callsign }}</h1>
        {% if flight.airline %}
          <span class="airline">{{ flight.airline }}</span>
        {% endif %}
      </div>

      <div class="aircraft-model">
        {% if flight.aircraftType %}
          <span class="aircraft-type">{{ flight.aircraftType }}</span>
        {% endif %}
        {% if flight.description %}
          <span class="aircraft-desc">{{ flight.description }}</span>
        {% endif %}
      </div>

      <div class="meta-row">
        <span class="meta-item">
          DISTANCE <strong>{{ flight.distance }} nm</strong></span>
        
        <span class="direction-box">{{ flight.direction }}</span>
        
        <span class="v-speed">
          {% if flight.verticalSpeed > 0 %}
            <span class="arrow">↑</span>
          {% elsif flight.verticalSpeed < 0 %}
            <span class="arrow">↓</span>
          {% endif %}
          <strong>{{ flight.verticalSpeed | abs }} fpm</strong>
        </span>
      </div>
    
    {% else %}
      <div class="callsign-row">
        <h1 class="callsign">NO SIGNAL</h1>
      </div>
      <div class="aircraft-model">
        <span class="aircraft-desc">No aircraft found in range</span>
      </div>
    {% endif %}
  </div>

  <div class="footer-grid">
    {% if flight %}
      <div class="data-col">
        <span class="data-label">ALTITUDE</span>
        <div class="data-value-group">
          <span class="data-number">{{ flight.altitude }}</span><span class="data-unit">ft</span>
        </div>
      </div>

      <div class="data-col">
        <span class="data-label">SPEED</span>
        <div class="data-value-group">
          <span class="data-number">{{ flight.speed }}</span><span class="data-unit">kts</span>
        </div>
      </div>

      <div class="data-col no-border">
        <span class="data-label">HEADING</span>
        <div class="data-value-group">
          <span class="data-number">{{ flight.heading }}</span><span class="data-unit">°</span>
        </div>
      </div>
    {% endif %}
  </div>
</div>
